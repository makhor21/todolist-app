<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      referrerpolicy="no-referrer"
    />
    <title>Todo List APP</title>
  </head>
  <body>
    <div class="container">
      <div class="card mt-5">
        <div class="card-header">Todo List</div>
        <div class="card-body">
          <form action="">
            <div class="row g-3">
              <div class="col">
                <input
                  type="text"
                  class="form-control"
                  placeholder="What do you need to do today?"
                />
              </div>
              <div class="col-1">
                <input type="submit" class="form-control btn btn-success" />
              </div>
            </div>
          </form>
          <table class="table mt-5">
            <tbody>
              <% for( let index = 0; index < todos.length; index++ ) { %>
              <tr>
                <% if (todos[index].done == 'yes') { %>
                <th>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value=""
                      id="flexCheckDefault"
                      checked
                      disabled
                    />
                  </div>
                </th>
                <td class="w-100">
                  <del><%= todos[index].description %></del>
                </td>
                <% } else{ %>
                <th>
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value=""
                      id="flexCheckDefault"
                    />
                  </div>
                </th>
                <td class="w-100"><%= todos[index].description %></td>
                <% } %>
                <td>
                  <form
                    action="/<%= todos[index].id %>?_method=DELETE"
                    method="POST"
                    enctype="application/x-www-form-urlencoded"
                  >
                    <input type="hidden" name="_method" value="DELETE" />
                    <button
                      class="btn"
                      type="submit"
                      onclick="if (!confirm('Are you sure ?!')) { return false }"
                    >
                      <i class="fas fa-times text-danger"></i>
                    </button>
                  </form>
                </td>
              </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
      integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT"
      crossorigin="anonymous"
    ></script>
    <!-- <script src="/javascripts/main.js"></script> -->
  </body>
</html>
